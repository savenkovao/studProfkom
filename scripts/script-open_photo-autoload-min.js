"use strict";function uploadImages(){if(photoStep>=imageQuantity){photosOnPagePrevious=photosOnPage,photosOnPage=imageQuantity;for(var a=photosOnPagePrevious+1;photosOnPage>=a;a++)addImage(a)}else{btnOpenMoreLink.style.display="block",photosOnPagePrevious=photosOnPage,photosOnPage+=photoStep,photosOnPage>=imageQuantity&&(photosOnPage=imageQuantity,btnOpenMore.style.display="none");for(var a=photosOnPagePrevious+1;photosOnPage>=a;a++)addImage(a)}openPhoto()}function createButtonOpenMore(){btnOpenMoreLink=document.createElement("a"),btnOpenMoreLink.className="btn_open_more-link",btnOpenMore=document.createElement("div"),btnOpenMore.className="btn_open_more",btnOpenMore.innerHTML="\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439",btnOpenMoreLink.appendChild(btnOpenMore),btnMoreContainer.appendChild(btnOpenMoreLink)}function addImage(a){image\u0421ontainer[a]=document.createElement("div"),image\u0421ontainer[a].className="content-gallery-block image_container short",image_containerInner[a]=document.createElement("img"),image_containerInner[a].setAttribute("src",source+a+".jpg"),image_containerInner[a].setAttribute("alt",contentHeader+" - \u0444\u043e\u0442\u043e_"+a),image_containerInner[a].className="content-image image_container_inner",image\u0421ontainer[a].appendChild(image_containerInner[a]),contentGallery.appendChild(image\u0421ontainer[a])}function openPhoto(){if(currentWrapperWidth>768){for(var a=photosOnPagePrevious+1;photosOnPage>=a;a++)image\u0421ontainer[a].setAttribute("onclick","createPhotoBlock("+a+")");createPhotoBlock=function(a){function i(){currentPhoto=image_containerInner[a].cloneNode(!0),j(),currentPhoto.classList.add("currentPhoto"),imageOpenContainer.appendChild(currentPhoto)}function j(){currentWrapperWidth/currentWrapperHeight<image_containerInner[a].offsetWidth/image_containerInner[a].offsetHeight?(currentPhoto.classList.add("wide-image"),currentPhotoWidth=currentWrapperWidth):(currentPhoto.classList.add("extended-image"),currentPhotoWidth=.97*currentWrapperHeight*image_containerInner[a].offsetWidth/image_containerInner[a].offsetHeight)}body.style.position="relative",photoBlock=document.createElement("div"),photoBlock.classList.add("photoBlock"),imageOpenContainer=document.createElement("div"),imageOpenContainer.classList.add("imageContainer");var b=document.createElement("div");b.classList.add("btn_browse","btnRight");var c=document.createElement("div");c.classList.add("btn_arrow","arrowRight"),b.appendChild(c);var d=document.createElement("div");d.classList.add("btn_browse","btnLeft");var e=document.createElement("div");e.classList.add("btn_arrow","arrowLeft"),d.appendChild(e);var f=document.createElement("div");f.classList.add("btnClose");var g=document.createElement("div");g.classList.add("closePic"),f.appendChild(g);var h=document.createElement("div");h.classList.add("photoNumber"),h.innerHTML=a+" / "+photosOnPage,i(),imageQuantity>1&&(imageOpenContainer.appendChild(b),imageOpenContainer.appendChild(d)),imageOpenContainer.appendChild(f),imageOpenContainer.appendChild(h),photoBlock.appendChild(imageOpenContainer),b.onclick=function(b){b.stopPropagation(),currentPhoto.remove(),a++,a>photosOnPage&&(a=1),h.innerHTML=a+" / "+photosOnPage,i()},d.onclick=function(b){b.stopPropagation(),currentPhoto.remove(),a--,1>a&&(a=photosOnPage),h.innerHTML=a+" / "+photosOnPage,i()},body.appendChild(photoBlock),f.onclick=function(){photoBlock.remove()}}}}function resizeFunction(){if(currentWrapperWidth=window.innerWidth,currentWrapperHeight=window.innerHeight,768>=currentWrapperWidth)for(var a=photosOnPagePrevious+1;photosOnPage>=a;a++)image\u0421ontainer[a].removeAttribute("onclick");openPhoto()}var photoBlock,createPhotoBlock,currentPhoto,imageOpenContainer,currentPhotoWidth,photosOnPagePrevious,image\u0421ontainer=[],image_containerInner=[],photoStep=20,photosOnPage=0,currentWrapperWidth=window.innerWidth,currentWrapperHeight=window.innerHeight,body=document.getElementsByTagName("body")[0],btnOpenMoreLink,btnOpenMore,sourceInformation=document.querySelectorAll(".source-information")[0],imageQuantity=+sourceInformation.getAttribute("name"),source=sourceInformation.getAttribute("href"),contentGallery=document.querySelectorAll(".content-gallery")[0],contentHeader=document.querySelectorAll(".content-description-header")[0].innerHTML,btnMoreContainer=document.querySelectorAll(".btn_more_container")[0];createButtonOpenMore(),uploadImages(),btnOpenMoreLink.onclick=function(){uploadImages(),openPhoto()},window.addEventListener("resize",resizeFunction);